# 原创：leetcode 8. 字符串转换整数 (atoi)【简单模拟】

一个简单模拟写了50分钟 。。错了5次。。没谁了

（1/6） 准确率16%...哎（好像正好和题目的准确率一样...）【大哥求你细心点！！！！】

**执行用时 : 8 ms, 在String to Integer (atoi)的C++提交中击败了95.34% 的用户**

**内存消耗 : 8.6 MB, 在String to Integer (atoi)的C++提交中击败了76.54% 的用户**

 

膜拜一下某位大佬的简洁版本：

 

# 相比于我的代码，他的优点：

直接用res代表了最后结果输出的一部分：// return res*sign; 

这样的好处显而易见：最主要的原因是来自于：

** 他在中间进行判断，而不是和我一样用stringstream完成后先用长度筛选，再用long long 赋值。及时止损，防止溢出。**

 

这样以来节省了很多事。

 

特别是这一句：

这个地方，用res和INT_MAX 比较。虽然**看似忽略**了一点：

> 
INT_MAX： (2^31 − 1) ；
INT_MIN ： (−2^31)；  


绝对值是不同的。所以这样的判定看似太粗糙。

**但仔细想想：当res&gt;INT_MAX的时候，是不是最小就是INT_MAX+1，也就是INT_MIN的相反数？所以这是没问题的。**

 
