# 原创：leetcode 207. 课程表【拓扑排序找环】

**执行用时 : 20 ms, 在Course Schedule的C++提交中击败了99.80% 的用户**

**内存消耗 : 13.2 MB, 在Course Schedule的C++提交中击败了18.08% 的用户**

刚好看了刘汝佳老师的算法竞赛上面拓扑部分，想练练手。

这个算法的关键是flag访问数组中，使用了:-1/0/1三个标志

> 
<p><strong> //拓扑排序<br/>
//使用标志数组进行访问判别<br/>
//标志数组如果是1/0的，则会产生重复遍历的消耗<br/>
//如果是-1/0/1的，就可以避免重复计算。<br/>
 //1：从当前结点开始的拓扑是无环的<br/>
 //0：还未遍历过<br/>
//-1：正在遍历</strong></p>
 


 可以有效防止重复搜索。（flag为1说明从该结点出发已经计算过了）。

拓展：[leetcode 210. 课程表 II 【在课程表 I的基础上加上输出的功能。DFS】](https://chenzhuo.blog.csdn.net/article/details/91128287)

 

### 方法二：根据入度判断

课程先后顺序可以理解为一个有向图，有解的条件是此图无环。因此我们可以依据其先后顺序构造有向图，并统计每门课程的入度（即其前一门课程的数量）。

然后将入度为0的所有课程压入栈中，然后将这些课程的下一门课程的入度减1，减完后入度为0则入栈。重复上述操作直到栈为空。** 如果最后存在入度不为为0的节点就说明有环，无解。**

 
